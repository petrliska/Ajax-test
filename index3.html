<!DOCTYPE html>
<html>
  <head>
    <title>Ajax</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
    </script>

    
    <script>
      $(document).ready(function()
      {
        $("button").click(function()
        {
          $.get("test.php?randval=" + Math.random(), function(data)
          {
            $("#ack").text(data);
          });
        });
        $("#icon1").click(function(){
          var refreshId = setInterval(function()
          {
            $.post("get_results.php?randval=" + Math.random(), {'id': "1"}, function(data)
            {
              $("#result1").html(data);
            });
          }, 1000);
          $("#result1").slideToggle();            
            //$.ajaxSetup({ cache: false });        //mělo by odstraňovat chybu IE7
        });
        $("#icon2").click(function(){
          $("#result2").slideToggle();
          var refreshId = setInterval(function()
          {
            $.post("get_results.php?randval=" + Math.random(), {'id': "2"}, function(data)
            {
              $("#result2").html(data);
            });
            //$.ajaxSetup({ cache: false });        //mělo by odstraňovat chybu IE7
          }, 1000);
        });
        $("#icon3").click(function(){
          $("#result3").slideToggle();
          var refreshId = setInterval(function()
          {
            $.post("get_results.php?randval=" + Math.random(), {'id': "3"}, function(data)
            {
              $("#result3").html(data);
            });
            //$.ajaxSetup({ cache: false });        //mělo by odstraňovat chybu IE7
          }, 1000);
        });
      });
    </script>
    
    <style>
      span.test
      {
        margin: 20px;
      }
      span.test_icon
      {
        width:20px;
        height: 20px;
        background-color: green;
      }
      span.test_text
      {
        height: 20px;
        width: 300px; 
        left: 50px;
      }
      .result
      {
        margin: 10px;
        min-height: 12px;
        left: 10px;
        display: none;
      }
    </style>
  </head>
  
  <body>
    <h2>AJAX</h2>
    <button>Request time</button>
    <p id="ack"></p>
    <p><span id="icon1", class="test_icon">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;Test č. 1
    </p>
    <div id="result1", class="result"></div>
    
    <p><span id="icon2", class="test_icon">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;Test č. 2
    </p>
    <div id="result2", class="result"></div>
    
    <p><span id="icon3", class="test_icon">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;Test č. 3
    </p>
    <div id="result3", class="result"></div>    

  </body>
</html>